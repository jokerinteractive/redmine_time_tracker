<% unless time_booking.nil? %>

$(function () {
    $('#time_booking_edit_<%= time_booking.id.to_s %>_issue_id').autocomplete({
        source:'tt_completer/get_issue.json?key=<%= key %>',
        minLength:0,
        select:function (event, ui) {
            $('#time_booking_edit_<%= time_booking.id.to_s %>_issue_id').val(ui.item.value);
            redmine_time_tracker.FieldUpdater.updateBookingProject('time_booking_edit_<%= time_booking.id.to_s %>');
        }
    });
});

$(document).ready(function() {
    (new redmine_time_tracker.EditBookingValidator('time_booking_edit_<%= time_booking.id.to_s %>')).validate();
});
<% end %>